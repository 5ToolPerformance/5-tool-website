---
import type { Image } from '../../lib/types';
import { urlForImage } from '../../lib/urlForImage';

export interface Props {
  name: string;
  title: string;
  image: Image;
  description: string;
  slug: string;
}

const { name, title, image, description, slug } = Astro.props;
const imageUrl = image ? urlForImage(image).width(400).height(400).url() : '';
---

<article class="flex h-full w-full max-w-[280px] flex-col overflow-hidden rounded-lg bg-white shadow-lg transition-transform duration-300 hover:shadow-xl hover:-translate-y-1">
  <div class="flex justify-center pt-6 pb-3">
    {imageUrl && (
      <div class="h-36 w-36 rounded-full overflow-hidden border-4 border-white shadow-md">
        <img 
          src={imageUrl} 
          alt={`${name} - ${title}`}
          class="h-full w-full object-cover"
          width={192}
          height={192}
          loading="lazy"
        />
      </div>
    )}
  </div>
  
  <div class="flex flex-1 flex-col p-6">
    <h3 class="text-xl font-semibold text-gray-900">{name}</h3>
    {title && <p class="mt-1 text-sm font-medium text-blue-600">{title}</p>}
    
    {description && (
      <div class="mt-4 flex-1">
        <p class="text-sm text-gray-600 line-clamp-4">{description}</p>
      </div>
    )}
    
    <div class="mt-6">
      <a 
        href={`/coaches/${slug}`}
        class="text-sm font-medium text-blue-600 hover:text-blue-500"
        aria-label={`Learn more about ${name}`}
      >
        Learn more
        <span aria-hidden="true"> &rarr;</span>
      </a>
    </div>
  </div>
</article>
